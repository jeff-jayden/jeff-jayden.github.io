---
title: 设计模式
date: 2024-08-20 23:08:03
tags: 
  - 设计模式
---

# 访问者模式

在对AST节点进行操作中使用到

最直接的修改

```js
ast.body.forEach(node=>{
    if(node.type === 'VariableDeclaration' && node.kind !== 'var'){
        node.kind = 'var'
    }
})

```

正常的做法
```js
export function walk(
  ast: Statement,
  { enter, leave }: { enter: WalkOperate; leave: WalkOperate },
): void {
  visit(ast, undefined, enter, leave)
}

```

# reference

https://juejin.cn/post/7230257136702111800#heading-0